# Google C++ 规范 精简版学习笔记

[Google开源项目风格指南(中文版)](https://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/headers/#acgtyrant) 

[Github Google Style Guide](https://github.com/google/styleguide)

已经大致过了一遍, 发现某些细节还是不能死扣

规范的一切都是为了提高代码的可行性和可读性

并没有硬性规定, 只是在对代码规范的理解上提出了很多要求

可行性: 头文件保护,内联函数......

可读性: 代码风格的一致,包括命名空间,类,结构体,变量,函数的命名,注释位置和内容,留白......

<font color=rgbbb size=4>1.头文件  2.作用域  3.类  4.函数  5.C++特性  6.命名约定  7.注释  8.格式</font>



# 可行性

方便编译, 变量保护

#### 1.2 头文件 `#define` 保护

#### 1.3 前置声明

#### 1.4 内联函数

#### 2.1 命名空间

包含文件>>>不能用 `using namespace` >>>别名的使用

#### 2.2 匿名命名空间和静态变量

外部文件无法访问匿名命名空间的变量

#### 2.3 非成员函数,静态成员函数和全局函数

写成类中的静态函数不如命名空间的函数

#### 3.1 构造函数的职责

#### 3.2 隐式类型的转换

#### 4.3 引用参数

引用传递的参数必须加 `const` , `const Template* para`

#### 6.11 前置自增和自减

非对象, 两种都无所谓; 迭代器和模板, 前置自增

#### 6.14 整形

和硬件交互时候要注意 `usigned` 

#### 6.17 `0` , `nullptr` , `NULL`

#### 6.18 `sizeof`



# 可读性

风格, 格式, 让人一目了然

#### 1.5 `#include` 顺序

头文件>>>C系统文件>>>C++系统文件>>>其他目录库>>>本目录库

#### 2.1 命名空间

命名空间的命名>>>命名空间结束的注释

#### 2.4 局部变量

#### 3.10 声明顺序

#### 4.1 参数顺序

#### 4.2 编写简短函数

#### 4.4 函数重载

#### 7.* 命名规则

明确, 易懂

- 文件名: 小写, `_` , `-` 
- 类型命名: 类, 结构体, 类型定义,枚举. 皆驼峰
- 变量命名: `a_local_variable` , `a_struct_data_member` , `a_class_data_member_` 
- 常量命名: `kDaysInAWeek = 7`
- 函数命名: 驼峰

但我自己感觉, 代码风格不用太固定

比如函数命名可以第一个单词小写的驼峰还不错,这样可以把函数和类明显区分开

还有,类内变量以`_`开头, 在写代码的时候方便自动补全, 然而在列表初始化的时候就很难看

这些都是值得学习的

`RjpClass::rjpFunction():_rjpPara(rjp_para)`

#### 8.* 注释风格

风格的统一

- 文件注释一两行足矣
- 类注释, 描述功能和用法, 需要考虑的因素
- 函数注释, 重载,变量引用,参数空指针
- 变量注释, 警告值的注释
- 实现注释
- TODO注释

#### 9.* 风格

- UTF-8

- 谷歌给的是标准2空格缩进, 但也存在4空格缩进

- 空循环体,if后的空格,括号内的空格

  ```c++
  if<space>(<condition>)<space>{
      ...	// 注意空格
  }
  ```

- 布尔表达式的断行

- 类的格式极其麻烦

- 命名空间不缩进

- 复制运算符,二元操作符,一元操作符

个人想法: 对于类中的 `public` , `protected`... 这种限定词, 谷歌规定的是必须空一格, 但在实际项目中, 如果这样的规则太繁琐, 理应剔除

